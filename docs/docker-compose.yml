version: '2'
services:
  mongo:
    image: mongo
    container_name: srv-mongo
    ports:
      - "27017:27017"
    volumes:
      - $HOME/repositorio/volumes/mongo/data:/data/db
      - $HOME/repositorio/volumes/mongo/backup:/data/

  registry:
    image: jhipster/jhipster-registry:v5.0.2
    container_name: srv-registry
    environment:
      - JAVA_OPTIONS=-Xmx512m -Xms256m
      - SPRING_PROFILES_ACTIVE=prod
      - SPRING_SECURITY_USER_PASSWORD=admin
      - JHIPSTER_REGISTRY_PASSWORD=admin
    ports:
      - 8761:8761

#  gateway:
#    image: periclesalmeida/padrao:gateway-1.0
#    container_name: srv-gateway
#    environment:
#      - JAVA_OPTIONS=-Xmx512m -Xms256m
#      - SPRING_PROFILES_ACTIVE=prod
#      - SERVER_PORT=8181
#      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE= http://admin:admin@registry:8761/eureka
#    ports:
#      - 8181:8181
